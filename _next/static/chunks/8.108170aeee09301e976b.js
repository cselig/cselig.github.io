(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{TkKs:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return w}));var r=n("s4An");function o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function i(t,e,n){return(i=o()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return n&&Object(r.a)(i,n.prototype),i}).apply(null,arguments)}var a=n("KQm4"),c=n("nKUr"),s=n("1OyB"),u=n("vuIU"),p=n("Ji7U"),l=n("md7G"),f=n("foSv"),h=n("q1tI"),d=n.n(h),m=n("Womt"),v=n("VphZ"),b=n("VK5w"),y=n.n(b);function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var j=function(t){Object(p.a)(n,t);var e=g(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{id:"pipes-container",className:y.a.container,children:[Object(c.jsx)("button",{name:"start",children:"Start/Reset"}),Object(c.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(c.jsx)("p",{children:"Rotate Camera:"}),Object(c.jsx)("input",{type:"checkbox",name:"toggle-rotate"})]}),Object(c.jsx)("div",{className:y.a.canvas+" canvas"})]})}},{key:"componentDidMount",value:function(){var t,e,n=v.b("#pipes-container .canvas").node(),r=n.getBoundingClientRect(),o=new m.k;o.setPixelRatio(window.devicePixelRatio),o.setSize(r.width,r.height),n.appendChild(o.domElement);for(var c=80,s=[40,40,40],u=[[40,0,40],[60,60,0],[40,c,40]],p=[3244733,2267476,15761536],l=p.length,f=[],h=0,d=p;h<d.length;h++){var b=d[h];f.push(new m.e({color:b}))}var y,g,j,w,O=new m.b(new m.j(0,0,0),new m.j(c,c,c)),x=function(t,e){return Math.floor(Math.random()*(e-t))+t},R=function(t,e){var n,r=C.filter((function(n){return 0===D(t,n)&&_(n,e)}));return(n=r)[Math.floor(Math.random()*n.length)]},_=function(t,e){var n=P(e,k(t,22));return O.containsPoint(i(m.j,Object(a.a)(n)))},M=function(t){return[t.x,t.y,t.z]},k=function(t,e){for(var n=[],r=0;r<t.length;r++)n.push(t[r]*e);return n},P=function(t,e){for(var n=[],r=0;r<t.length;r++)n.push(t[r]+e[r]);return n},D=function(t,e){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[r];return n},I=function(){var e=new m.c(1,1,0,32),n=f[g],r=new m.d(e,n);return t.add(r),r},K=function(){var e=new m.i(1.2,32,32),n=new m.e({color:p[g]}),r=new m.d(e,n);return t.add(r),r},S=function(t){1===Math.abs(t.direction[0])?t.mesh.rotateZ(Math.PI/2):1===Math.abs(t.direction[2])&&t.mesh.rotateX(Math.PI/2)},A=function(){var t,n;(t=e.position).set.apply(t,Object(a.a)([120*Math.sin(J),40,120*(Math.cos(J)+1)])),(n=e).lookAt.apply(n,s)},C=[[1,0,0],[0,1,0],[0,0,1],[-1,0,0],[0,-1,0],[0,0,-1]],J=8,N=!1,U=function n(){if(w=requestAnimationFrame(n),j.length<j.max_length){var r;j.length+=3,j.mesh.geometry.dispose(),j.mesh.geometry=new m.c(1,1,j.length,32);var i=M(j.mesh.position),c=P(i,k(j.direction,1.5));(r=j.mesh.position).set.apply(r,Object(a.a)(c))}else if(y++<70){var s,p,f=P(M(j.mesh.position),k(j.direction,j.length/2)),h=M(j.mesh.position),d=P(h,k(j.direction,j.length/2));(s=(j={length:0,direction:R(j.direction,f),max_length:x(5,20),mesh:I()}).mesh.position).set.apply(s,Object(a.a)(d)),S(j),(p=K().position).set.apply(p,Object(a.a)(d))}else if(g<l){var v,b=P(M(j.mesh.position),k(j.direction,j.length/2));(v=K().position).set.apply(v,Object(a.a)(b)),g<l-1?(g++,y=0,E(u[g])):V()}N&&(J+=.01,A()),o.render(t,e)},E=function(t){var e,n;j={length:0,direction:R([0,0,0],t),max_length:x(3,5),mesh:I()},S(j),(e=j.mesh.position).set.apply(e,Object(a.a)(t)),(n=K().position).set.apply(n,Object(a.a)(t))},F=function(){t=new m.h,e=new m.f(75,r.width/r.height,.1,1e3),A();var n=new m.a(4210752,3);t.add(n);var i=new m.g(4210752,3,0);i.position.set(c,c,c),t.add(i),o.render(t,e)},V=function(){F(),y=0,g=0,E(u[0]),cancelAnimationFrame(w),U()};F(),v.b("#pipes-container button[name=start]").on("click",V),v.b("#pipes-container input[name=toggle-rotate").on("change",(function(){return N=!N}))}}]),n}(d.a.Component);function w(){return Object(c.jsx)(j,{})}},VK5w:function(t,e,n){t.exports={canvas:"pipes_canvas__1opmU",container:"pipes_container__25J4_"}}}]);